<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Law Firm RAG — Frontend</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <nav class="nav">
    <div class="brand"><img src="./logo.svg" alt="BRAG AI"/><strong>BRAG AI (LEGAL)</strong></div>
    <span class="spacer"></span>
    <a href="./ingest.html">Ingest</a>
    <a href="./chat.html">Chat</a>
    <button id="themeToggle" aria-label="Toggle color theme"><span class="icon" aria-hidden="true">🌙</span><span class="label">Dark</span></button>
  </nav>
  <div class="wrap">
    <div class="card">
      <h2>Welcome</h2>
      <p class="muted">Use this minimal UI to upload documents and chat with your RAG backend.</p>
      <div style="margin-top:14px">
        <a class="btn" href="./ingest.html">Go to Ingestion</a>
        <a class="btn" href="./chat.html" style="margin-left:10px">Go to Chat</a>
      </div>
    </div>
    <footer>Static two-page UI. No frameworks. You can serve this with any static server.</footer>
  </div>
  <script>
(function(){
  const STORAGE_KEY = "BRAG_THEME";
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
  function paintToggle(mode){ const b=document.getElementById('themeToggle'); if(!b) return; const i=b.querySelector('.icon'); const l=b.querySelector('.label'); if(mode==='dark'){ if(i)i.textContent='☀️'; if(l)l.textContent='Light'; b.setAttribute('aria-pressed','true'); } else { if(i)i.textContent='🌙'; if(l)l.textContent='Dark'; b.setAttribute('aria-pressed','false'); } }
  function applyTheme(m){ if(m==='dark') document.documentElement.setAttribute('data-theme','dark'); else document.documentElement.removeAttribute('data-theme'); localStorage.setItem(STORAGE_KEY,m); paintToggle(m); }
  function currentTheme(){ const s=localStorage.getItem(STORAGE_KEY); if(s==='light'||s==='dark') return s; return prefersDark ? 'dark':'light'; }
  const init=currentTheme(); applyTheme(init);
  document.addEventListener('click',e=>{ if(e.target.closest && e.target.closest('#themeToggle')){ applyTheme(currentTheme()==='dark'?'light':'dark'); } });
  if(window.matchMedia){ window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', ev=>{ const s=localStorage.getItem(STORAGE_KEY); if(s!=='light'&&s!=='dark') applyTheme(ev.matches?'dark':'light'); }); }
})();
  </script>
</body>
</html>
